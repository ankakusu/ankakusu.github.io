
<div id="post-container"> 
	<div class="title"> ContextMenu with AngularJS Directives </div>
					<div class="subtitle"> posted at
				    June 27, 2014 
					 </div>
	<div class="share">
    <!-- AddThis Button BEGIN -->
	  <div class="addthis_toolbox addthis_default_style ">
	    <a class="addthis_button_preferred_1"></a>
	    <a class="addthis_button_preferred_2"></a>
	    <a class="addthis_button_preferred_3"></a>
	    <a class="addthis_button_preferred_4"></a>
	    <a class="addthis_button_compact"></a>
		  <script type="text/javascript">var addthis_config = {"data_track_addressbar":false, "addthis_config.data_track_clickback" : false};</script>
		  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-518fbaf42b401c64"></script>
	  <!-- AddThis Button END -->
		</div>
	</div>
	<div class="post-content">
		<p>Directives are the building block of AngularJS. Up till now, I was an end user for directives. Beforehand, I had some small and unsuccessful trials. This time, I take my time to read blogs, books and watch videos and realized that there are several concepts to understand to fully comprehend directives. For me, the most important ones are linking, compiling, defining the scope of the directive and data binding. </p>

<!--MORE-->

<p><a href="http://www.youtube.com/watch?v=WqmeI5fZcho">This meetup record</a> by Misko Hevery, creator of AngularJS, explained all of those concepts clearly. About scopes, <a href="http://www.undefinednull.com/2014/02/11/mastering-the-scope-of-a-directive-in-angularjs/">this blog</a> should give you an idea. To understand the difference between text binding, one-way binding and two-way binding you shall refer to <a href="http://umur.io/angularjs-directives-using-isolated-scope-with-attributes/">this</a> blog. Nowadays, I’m reading this <a href="http://www.packtpub.com/AngularJS-directives/book">book</a> to gain a deeper understanding of AngularJS directives. After all those reading, I feel ready to write a simple directive: Context Menu (right-click menu).</p>

<h3 id="best-approach-for-contextmenu">Best Approach for ContextMenu</h3>

<p>Let’s decide the behaviour of a context-menu. To design it, should I hide &amp; show of an intially created div or append &amp; remove a dynamically created element? I tried both and append &amp; remove approach seemed to be the best one.</p>

<h4 id="hide--show-approach">Hide &amp; Show Approach</h4>

<p>In hide &amp; show approach, since the context menu is not a child of the clicked item, hiding context menu on mouseleave will prevent you from going into menu and when you try it will will disappear.
You shall try at the JSFiddle below:</p>

<iframe width="100%" height="300" src="http://jsfiddle.net/yaprak/76aR9/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<h4 id="append--remove-approach">Append &amp; Remove Approach</h4>

<p>In this approached, the <code>$scope.myContextDiv</code> parameter defines the HTML of context menu. This parameter is sent to <code>contextMenu</code> directive. Context menu is linked to the right clicked element on right click. Note that, since context menu is dynamically appended to the element, it has to be <a href="https://docs.angularjs.org/api/ng/service/$compile"><code>$compile</code></a>d first. </p>

<p>In the directive, we shall get the context menu by <code>lScope.myContextDiv</code> or if we write this way <code>lScope[ lAttr.contextMenu ])(lScope)</code>, the directive becomes independent of parameter names.</p>

<p>If you want to check the click elements of context menu items, please open the developer console of you browser. When you click at item1 or item2, you can see the console output.</p>

<p>The JS Fiddle of this directive is given as follows:</p>

<iframe width="100%" height="300" src="http://jsfiddle.net/yaprak/5Lk2V/14/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<p>Please, note that this shall not be the best way to develop a context menu with AngularJS. If you have suggestions for a better one, please do not hesitate to contact with me. </p>

<p>For the Turkish and a more detailed version of this article please refer to <a href="http://www.kadinyazilimci.com/angularjs-directive-sag-tik-menusunu-angularjs-directiveleriyle-yapmak/">this blog post</a>.</p>

	<div>
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-40895891-1', 'auto');
	  ga('send', 'pageview');
	</script>
	<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'yaprak'; // required: replace example with your forum shortname
        var disqus_identifier = '/blog/post/20140627-ContextMenuDirectiveAngularJS/';
		var disqus_title = 'ContextMenu with AngularJS Directives';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); 
            dsq.type = 'text/javascript'; 
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>	
</div>
